<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1631.12841796875" height="1187"><defs/><g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="183" y="341" width="571.48486328125" height="250" opacity="0.2"/></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#ffffff" stroke="none" x="176" y="334" width="571.48486328125" height="250"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 176 334 L 747.48486328125 334 L 747.48486328125 584 L 176 584 L 176 334 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 176 359 L 747.48486328125 359" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 176 397 L 747.48486328125 397" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="404.664306640625" y="353.5">CurrentUserFacade</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="376.5">-username: String</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="391.5">-password: String</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="414.5">+getFriend(username: String): RemoteUser</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="429.5">+getFriends(status: StatusType): RemoteUser[0..*]</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="444.5">+addFriend(remoteUser: String, status, StatusType)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="459.5">+addFriends(remoteUsers: String[0..*], status: StatusType)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="474.5">+removeFriend(remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="489.5">+checkFriendStatus(status: StatusType): Boolean</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="504.5">+updateFriendStatus(remoteUser: String, status: StatusType)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="519.5">+prepareTunnel(remoteUser: String): IRemoteUserTunnel</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="534.5">+storeRemoteUserTunnel(tunnel: IRemoteUserTunnel)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="549.5">+closeTunnels(remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="564.5">+sendMessage(remoteUser: String, message: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="181" y="579.5">+replyChatRequest(remoteUser: String, remoteTunnel: IRemoteUserTunnel): IRemoteUserTunnel</text></g></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="223" y="775" width="571.48486328125" height="237" opacity="0.2"/></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#ffffff" stroke="none" x="216" y="768" width="571.48486328125" height="237"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 216 768 L 787.48486328125 768 L 787.48486328125 1005 L 216 1005 L 216 768 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 216 793 L 787.48486328125 793" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 216 803 L 787.48486328125 803" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="452.9638671875" y="787.5">SessionManager</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="820.5">+isInitiated(): Boolean</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="835.5">+login(username: String, password: String): Boolean</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="850.5">+signUp(username: String, password: String): Boolean</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="865.5">+disconnect(): Boolean</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="880.5">+retrieveFriends()</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="895.5">+retrieveFriends(status: StatusType)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="910.5">+initiateChat(remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="925.5">+sendMessage(remoteUser: String, message: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="940.5">+requestFriendship(remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="955.5">+acceptFriendship(remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="970.5">+rejectFriendship(remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="985.5">+endFriendship(remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="221" y="1000.5">+replyChatRequest(remoteUser: String, remoteTunnel: IRemoteUserTunnel): IRemoteUserTunnel</text></g></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="879" y="423" width="664.69384765625" height="195" opacity="0.2"/></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#ffffff" stroke="none" x="872" y="416" width="664.69384765625" height="195"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 872 416 L 1536.69384765625 416 L 1536.69384765625 611 L 872 611 L 872 416 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 872 454 L 1536.69384765625 454" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1172.1865234375" y="433.5">«interface»</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="1183.396484375" y="448.5">IServer</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="471.5">+login(username: String, password: String, serverNotificationsListener: IServerNotificationsListener): UserToken</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="486.5">+signUp(username: String, password: String, serverNotificationsListener: IServerNotificationsListener): UserToken</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="501.5">+disconnect(token: UserToken)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="516.5">+retrieveFriends(token: UserToken): RemoteUser[0..*]</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="531.5">+retrieveFriends(token: UserToken, status: StatusType): RemoteUser[0..*]</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="546.5">+initiateChat(token: UserToken, localTunnel: IRemoteUserTunnel, remoteUser: String): IRemoteUserTunnel</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="561.5">+requestFriendship(token: UserToken, remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="576.5">+acceptFriendship(token: UserToken, remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="591.5">+rejectFriendship(token: UserToken, remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="877" y="606.5">+endFriendship(token: UserToken, remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="895" y="215" width="120.2744140625" height="72" opacity="0.2"/></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#ffffff" stroke="none" x="888" y="208" width="120.2744140625" height="72"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 888 208 L 1008.2744140625 208 L 1008.2744140625 280 L 888 280 L 888 208 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 888 233 L 1008.2744140625 233" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 888 271 L 1008.2744140625 271" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="911.654052734375" y="227.5">RemoteUser</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="893" y="250.5">-username: String</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="893" y="265.5">-status: StatusType</text></g></g><g transform="translate(-46,-22) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 56 32 L 229 32 L 239 42 L 239 68 L 56 68 L 56 32"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 56 32 L 229 32 L 239 42 L 239 68 L 56 68 L 56 32 L 56 32" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 229 32 L 229 42 L 239 42 L 229 32" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="61" y="50">Required standard getters &amp;</text><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="61" y="63">setters are not displayed</text></g></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 747 360 L 952 360 L 952 280" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 956.209517756016 290.16267485762415 L 952 280 L 947.790482243984 290.16267485762415" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="852.13134765625" y="307.5">-currentFriends</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="959.5" y="307.5">0..*</text></g></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="271" y="95" width="218.16162109375" height="60" opacity="0.2"/></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#ffffff" stroke="none" x="264" y="88" width="218.16162109375" height="60"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 264 88 L 482.16162109375 88 L 482.16162109375 148 L 264 148 L 264 88 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 264 126 L 482.16162109375 126" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="340.92041015625" y="105.5">«interface»</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="315.158447265625" y="120.5">IRemoteUserTunnel</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="269" y="143.5">+transmitMessage(message: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 372 334 L 372 148" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 376.209517756016 158.16267485762415 L 372 148 L 367.790482243984 158.16267485762415" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="256.13134765625" y="171.5">-receivedTunnels</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="383.5" y="174.5">0..*</text></g></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="663" y="95" width="218.16162109375" height="70" opacity="0.2"/></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#ffffff" stroke="none" x="656" y="88" width="218.16162109375" height="70"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 656 88 L 874.16162109375 88 L 874.16162109375 158 L 656 158 L 656 88 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 656 113 L 874.16162109375 113" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 656 136 L 874.16162109375 136" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="716.184814453125" y="107.5">LocalUserTunnel</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="661" y="130.5">-remoteUser: String</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="661" y="153.5">+transmitMessage(message: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 656 122 L 482 122" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="#FFFFFF" stroke="none" d="M 502.3253497152483 113.58096448796803 L 482 122 L 502.3253497152483 130.41903551203197"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 502.3253497152483 113.58096448796803 L 482 122 L 502.3253497152483 130.41903551203197 L 502.3253497152483 113.58096448796803" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 733 334 L 733 158" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 737.209517756016 168.16267485762415 L 733 158 L 728.790482243984 168.16267485762415" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="743.13134765625" y="188.5">-openedTunnels</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="703.5" y="188.5">0..*</text></g></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="191" y="1119" width="149.89892578125" height="87" opacity="0.2"/></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#ffffff" stroke="none" x="184" y="1112" width="149.89892578125" height="87"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 184 1112 L 333.89892578125 1112 L 333.89892578125 1199 L 184 1199 L 184 1112 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 184 1137 L 333.89892578125 1137" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 184 1190 L 333.89892578125 1190" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="227.880859375" y="1131.5">UserToken</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="189" y="1154.5">-header: String</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="189" y="1169.5">-payload: String</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="189" y="1184.5">-signature: String</text></g></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 256 1005 L 256 1112" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 251.790482243984 1101.837325142376 L 256 1112 L 260.209517756016 1101.837325142376" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="271.13134765625" y="1093.5">-token</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="218.5" y="1092.5">0..1</text></g></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="1047" y="719" width="627.12841796875" height="265" opacity="0.2"/></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1040" y="712" width="627.12841796875" height="265"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1040 712 L 1667.12841796875 712 L 1667.12841796875 977 L 1040 977 L 1040 712 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1040 737 L 1667.12841796875 737" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1040 790 L 1667.12841796875 790" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="1312.7392578125" y="731.5">ServerFacade</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="754.5">-rmiRemoteAddress: String</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="769.5">-rmiRemotePort: Integer</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="784.5">-rmiRemoteIdentifier: String</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="807.5">+login(username: String, password: String): UserToken</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="822.5">+signUp(username: String, password: String): UserToken</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="837.5">+disconnect(token: UserToken)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="852.5">+retrieveFriends(token: UserToken): RemoteUser[0..*]</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="867.5">+retrieveFriends(token: UserToken, status: StatusType): RemoteUser[0..*]</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="882.5">+initiateChat(token: UserToken, localTunnel: IRemoteUserTunnel, remoteUser: String): IRemoteUserTunnel</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="897.5">+requestFriendShip(token: UserToken, remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="912.5">+acceptFriendship(token: UserToken, remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="927.5">+rejectFriendship(token: UserToken, remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="942.5">+endFriendship(token: UserToken, remoteUser: String)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="957.5">+replyChatRequest(remoteUser: String, remoteTunnel: IRemoteUserTunnel): IRemoteUserTunnel</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1045" y="972.5">+updateFriendStatus(remoteUser: String, status: StatusType)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 380 768 L 380 584" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 384.209517756016 594.1626748576241 L 380 584 L 375.790482243984 594.1626748576241" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="283.13134765625" y="615.5">-loggedInUser</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="388.5" y="614.5">0..1</text></g></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1186 712 L 1186 611" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1190.2095177560159 621.1626748576241 L 1186 611 L 1181.7904822439841 621.1626748576241" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1072.13134765625" y="641.5">-retrievedServer</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1196.5" y="638.5">0..1</text></g></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 787 800 L 1040 800" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1029.837325142376 804.209517756016 L 1040 800 L 1029.837325142376 795.790482243984" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="881.13134765625" y="792.5">-serverOperationsFacade</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1014.5" y="818.5">1</text></g></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="1079" y="1047" width="571.48486328125" height="75" opacity="0.2"/></g><g transform="translate(-46,-22) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1072" y="1040" width="571.48486328125" height="75"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1072 1040 L 1643.48486328125 1040 L 1643.48486328125 1115 L 1072 1115 L 1072 1040 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1072 1078 L 1643.48486328125 1078" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1325.58203125" y="1057.5">«interface»</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="1278.263427734375" y="1072.5">IServerNotificationsListener</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1077" y="1095.5">+replyChatRequest(remoteUser: String, remoteTunnel: IRemoteUserTunnel): IRemoteUserTunnel</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1077" y="1110.5">+updateFriendStatus(remoteUser: String, status: StatusType)</text></g></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1365 977 L 1365 1040" stroke-miterlimit="10" stroke-dasharray="3"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="#FFFFFF" stroke="none" d="M 1356.580964487968 1019.6746502847517 L 1365 1040 L 1373.419035512032 1019.6746502847517"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1356.580964487968 1019.6746502847517 L 1365 1040 L 1373.419035512032 1019.6746502847517 L 1356.580964487968 1019.6746502847517" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 1040 873 L 787 873" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><path fill="none" stroke="#000000" d="M 797.1626748576241 868.790482243984 L 787 873 L 797.1626748576241 877.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="801.13134765625" y="892.5">-clientSessionFacade</text></g></g><g transform="translate(-46,-22) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="804.5" y="866.5">1</text></g></g></g></svg>